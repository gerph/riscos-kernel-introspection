/*******************************************************************
 * File:        osswis
 * Purpose:     Claim the SWIs in the OS that we wish to handle
 * Author:      Gerph
 * Date:        27 Aug 2025
 ******************************************************************/

#include <stdint.h>
#include <stdbool.h>
#include "swis.h"

#include "osswis.h"

#define ClaimOSSWI_Claim   (0)
#define ClaimOSSWI_Release (1)

/*************************************************** Gerph *********
 Function:      osswi_claim
 Description:   Claim an OS_* SWI
 Parameters:    claim = 1 to claim, 0 to release
                swi = SWI number
                func-> the generic veneer to call
                pw = the private word to pass
 Returns:       pointer to error, or NULL if ok
 ******************************************************************/
_kernel_oserror *osswi_claim(bool claim, int32_t swi, generic_veneer func, void *pw)
{
    return _swix(OS_ClaimOSSWI, _INR(0, 3), claim ? ClaimOSSWI_Claim : ClaimOSSWI_Release,
                                            swi, func, pw);
}
